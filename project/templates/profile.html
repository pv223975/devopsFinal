<!DOCTYPE html>
<html>
<head>
    <title>Flaskr-TDD | Profile</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
</head>
<body>
    <div class="container">
      <br /><br />
      <h1>Flaskr</h1>
      <br /><br />

      <a class="btn btn-info" role="button" href="{{ url_for('search') }}">Search</a>

      {% if not session.logged_in %}
      <a class="btn btn-success" role="button" href="{{ url_for('login') }}"
        >Log In</a>
      {% else %}
      <a class="btn btn-success" role="button" href="{{ url_for('post_page') }}"
        >Posts</a>
      <a class="btn btn-success" role="button" href="{{ url_for('profile') }}"
        >Profile</a>
      <a class="btn btn-warning" role="button" href="{{ url_for('logout') }}"
        >Log Out</a>
      {% endif %}
        <br></br>
      <h3>{{ user.uName }}'s Profile</h3>

    <br></br>
    <h3>Friends List</h3>
    <!-- Add a form for adding a friend -->
    <form action="{{ url_for('add_friend') }}" method="post">
        <label for="fName">Add Friend:</label>
        <input type="text" id="fName" name="fName" required>
        <input type="submit" value="Add">
    </form>
        {% for message in get_flashed_messages() %}
        <div class="alert alert-success col-sm-4" role="success">
          {{ message }}
        </div>
        {% endfor %}

        {% if error %}
      <div class="alert alert-danger col-sm-4" role="danger">
        {{ message }}
      </div>
      {% endif %}

      </form>
        {% for friend in user.friends %}
            <lp>{{ friend.uName }}</p>
        {% endfor %}
    </div>
    <script
      type="text/javascript"
      src="{{url_for('static', filename='main.js') }}"
    ></script>
    <a class="btn btn-success" role="button" href="{{ url_for('index') }}"
    >Back to index</a>
</body>
</html>